{{- with resources.Get "css/main.css" }}
  {{- if hugo.IsDevelopment }}
    <link rel="stylesheet" href="{{ .RelPermalink }}">
  {{- else }}
    {{- with . | minify | fingerprint }}
      <link rel="stylesheet" href="{{ .RelPermalink }}" integrity="{{ .Data.Integrity }}" crossorigin="anonymous">
    {{- end }}
  {{- end }}
{{- end }}

{{/* Page-specific CSS using Hugo boolean helpers */}}
{{- if .IsHome -}}
  {{- with resources.Get "css/home.css" -}}
    {{- if hugo.IsDevelopment -}}
      <link rel="stylesheet" href="{{ .RelPermalink }}">
    {{- else -}}
      {{- with . | minify | fingerprint -}}
        <link rel="stylesheet" href="{{ .RelPermalink }}" integrity="{{ .Data.Integrity }}" crossorigin="anonymous">
      {{- end -}}
    {{- end -}}
  {{- end -}}
{{- else if .IsPage -}}
  {{- with resources.Get "css/page.css" -}}
    {{- if hugo.IsDevelopment -}}
      <link rel="stylesheet" href="{{ .RelPermalink }}">
    {{- else -}}
      {{- with . | minify | fingerprint -}}
        <link rel="stylesheet" href="{{ .RelPermalink }}" integrity="{{ .Data.Integrity }}" crossorigin="anonymous">
      {{- end -}}
    {{- end -}}
  {{- end -}}
  {{- $syntax := resources.Get "css/syntax.css" -}}
  {{- if $syntax -}}
    {{- $syntax = $syntax | minify | fingerprint -}}
    <link rel="stylesheet" href="{{ $syntax.RelPermalink }}">
  {{- end -}}
{{- else if or (eq .Kind "taxonomy") (eq .Kind "term") -}}
  {{- with resources.Get "css/taxonomy.css" -}}
    {{- if hugo.IsDevelopment -}}
      <link rel="stylesheet" href="{{ .RelPermalink }}">
    {{- else -}}
      {{- with . | minify | fingerprint -}}
        <link rel="stylesheet" href="{{ .RelPermalink }}" integrity="{{ .Data.Integrity }}" crossorigin="anonymous">
      {{- end -}}
    {{- end -}}
  {{- end -}}
{{- else if .IsSection -}}
  {{- with resources.Get "css/section.css" -}}
    {{- if hugo.IsDevelopment -}}
      <link rel="stylesheet" href="{{ .RelPermalink }}">
    {{- else -}}
      {{- with . | minify | fingerprint -}}
        <link rel="stylesheet" href="{{ .RelPermalink }}" integrity="{{ .Data.Integrity }}" crossorigin="anonymous">
      {{- end -}}
    {{- end -}}
  {{- end -}}
{{- end -}}

{{/* KaTeX CSS (Cloudflare CDN) */}}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
